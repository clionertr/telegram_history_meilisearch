# UI/UX 设计方案：底部导航栏与设置界面 (修订版)

## 1. 引言

本文档详细描述了应用程序的底部导航栏和设置界面的UI布局、交互流程，并重点说明了如何通过这些设计体现人性化和便捷性。设计目标是提供一个直观、易用且高效的用户体验。**本次修订根据用户反馈，移除了数据导出/导入功能，并调整设置界面为卡片风格，底部导航栏参考了用户提供的图片。**

## 2. 信息收集与分析

通过查阅以下代码文件，对现有应用结构和风格有了初步了解：
- `frontend/src/App.jsx`
- `frontend/src/pages/SearchPage.jsx`
- `frontend/src/components/SearchBar.jsx`
- `frontend/src/components/FilterControls.jsx`

用户提供的参考图片进一步明确了期望的视觉风格（卡片式布局、底部导航样式）。

## 3. 底部导航栏设计 (修订)

### 3.1. UI 布局与视觉设计

底部导航栏将固定在应用界面的底部，提供应用内主要功能模块的快速入口。参考用户提供的图片，导航栏包含三个主要入口。

*   **导航项：**
    1.  **搜索 (Search):** 指向现有的核心搜索功能。
        *   图标：放大镜 🔍 (参考图片样式)
        *   文字标签：“Search” (或中文“搜索”)
    2.  **群组 (Groups):** (新) 具体功能待用户进一步明确。
        *   图标：群组人像 👥 (参考图片样式)
        *   文字标签：“Groups” (或中文“群组”)
    3.  **设置 (Settings):** 指向新增的设置界面。
        *   图标：齿轮 ⚙️ (参考图片样式)
        *   文字标签：“Settings” (或中文“设置”)
*   **样式：**
    *   背景色：通常为白色或浅灰色，与卡片背景区分，或与 Telegram 主题 `secondary_bg_color` 协调。
    *   图标和文字颜色：
        *   未选中时：灰色或 `themeParams.hint_color`。
        *   选中时：主题强调色 (例如图片中的黄色系) 或 `themeParams.button_color` / `themeParams.link_color`。
    *   布局：图标在上，文字在下，平均分布。
    *   指示器：选中项的图标和文字颜色变化，无额外线条指示器（参考图片）。

### 3.2. 交互流程

*   **点击切换：** 用户点击任一导航项，对应的内容区域会切换到该导航项代表的页面。
*   **状态保持：** 应用应记住用户上次所在的导航页面，在下次启动时恢复。
*   **反馈：** 点击导航项时，可以有轻微的视觉反馈。如果环境支持（如 Telegram Mini App），可以考虑调用 `triggerHapticFeedback('light')` 提供触觉反馈。

### 3.3. 人性化与便捷性

*   **清晰直观：** 使用通用的图标和简洁的文字标签。
*   **快速访问：** 底部导航栏始终可见。
*   **一致性：** 设计风格与应用整体（特别是参考图片）保持一致。
*   **状态明确：** 清晰高亮当前选中的导航项。

## 4. 设置界面设计 (修订 - 卡片风格)

设置界面将采用**卡片式布局**，每个逻辑分组的设置项将聚合在一个单独的卡片中，使界面更加模块化和现代化。

### 4.1. 总体布局与导航

*   **页面标题：** 顶部显示“设置” (Settings) 作为页面标题，参考图片中的标题样式（例如左上角返回按钮，标题居中或居左）。
*   **卡片间距：** 卡片之间有适当的间距，以区分不同的设置组。
*   **卡片样式：**
    *   圆角矩形。
    *   背景色：通常为白色或浅灰色，可适配 Telegram 主题的 `secondary_bg_color` 或卡片背景色。
    *   阴影：可带有轻微的阴影效果，增加层次感（参考图片）。

### 4.2. 设置组卡片设计

每个设置组将作为一个卡片呈现。卡片内部可以包含一个或多个设置项。

*   **卡片标题 (可选):** 如果一个卡片包含多个相关设置项，可以在卡片顶部设置一个分组标题 (例如 “同步设置”, “个性化”)。
*   **设置项布局 (卡片内部)：**
    *   **列表式：** 在卡片内部，设置项依然可以采用列表形式排列，每行一个设置项。
    *   **内容：** 每个设置项通常包含：
        *   **图标 (可选):** 与设置项相关的直观图标，放置在左侧。
        *   **名称:** 简洁明了的设置项名称。
        *   **当前状态/值 (可选):** 显示在名称右侧或下方。
        *   **辅助说明 (可选):** 在名称下方用小字号提供简短的解释。
        *   **交互控件/指示器:**
            *   对于需要进入下一级页面的设置（如白名单管理），显示向右箭头 `>` 在最右侧。
            *   对于开关类设置（如通知开关），显示开关控件 (Toggle) 在右侧。
            *   对于选择类设置（如主题选择），可以直接显示当前选项，点击整行后弹出选择器。

### 4.3. 人性化与便捷性 (卡片风格总体)

*   **视觉清晰：** 卡片将不同设置组在视觉上清晰分离。
*   **模块化：** 每个卡片是一个独立的模块，易于理解和管理。
*   **信息层级：** 卡片标题（如有）和设置项名称、说明等形成清晰的信息层级。
*   **状态可见性：** 尽可能直接在卡片内的设置项中展示当前状态或值。
*   **一致的交互模式：** 卡片内的设置项交互方式保持一致。
*   **默认值：** 所有设置项提供安全且常用的默认值。
*   **保存提示：** 用户更改设置后，应有明确的保存状态提示。
*   **恢复默认：** 为复杂的设置组卡片或关键设置提供“恢复默认设置”的选项。

### 4.4. 各设置项详细设计 (调整为卡片内项目)

#### 4.4.1. 白名单管理 (Whitelist Management)

*   **所属卡片：** “数据与安全” 卡片 (或单独一个 “白名单管理” 卡片)
*   **卡片内UI项：**
    *   图标：🛡️ (盾牌)
    *   名称：“白名单管理”
    *   辅助说明：“管理允许访问的IP或域名”
    *   指示器：向右箭头 `>`
*   **白名单列表页面UI (不变，但页面整体风格应与设置页协调)：**
    *   页面标题：“白名单管理”
    *   列表区域：显示当前所有白名单对象。每行包含白名单对象的值和操作按钮（编辑 ✏️, 移除 🗑️）。
    *   “添加”按钮：悬浮按钮或在列表顶部/底部。
    *   空状态提示。
*   **交互流程 (不变)。**
*   **人性化与便捷性 (不变)。**

#### 4.4.2. 同步点配置 (Sync Point Configuration)

*   **所属卡片：** “同步设置” 卡片
*   **卡片内UI项：**
    1.  **自动同步频率：**
        *   图标：🔄 (同步)
        *   名称：“自动同步频率”
        *   当前状态/控件：右侧显示当前选中的频率 (如“每天”)，点击后弹出选择器 (选项：“每小时”、“每天”、“手动”)。
    2.  **上次同步信息：**
        *   图标：ℹ️ (信息)
        *   名称：“上次同步”
        *   当前状态：右侧直接显示上次同步的时间和状态 (例如 “2023-10-27 15:30 - 成功”)。
    3.  **同步检查点/版本管理 (可选)：**
        *   图标：🗳️ (版本)
        *   名称：“同步版本”
        *   指示器：向右箭头 `>` (点击后跳转到版本列表页面)。
*   **交互流程 (基本不变，选择器交互方式可能调整为模态或底部弹出)。**
*   **人性化与便捷性 (不变)。**

#### 4.4.3. 缓存设置 (Cache Settings)

*   **所属卡片：** “存储与缓存” 卡片 (或在“通用”卡片内)
*   **卡片内UI项：**
    1.  **清除缓存：**
        *   图标：🧹 (扫帚)
        *   名称：“清除缓存”
        *   辅助说明 (可选，或在点击后确认框中显示)：“清除所有本地缓存数据。”
        *   当前状态/控件：右侧可以显示当前缓存大小 (例如 “25 MB”)，点击整行后弹出确认对话框。
    2.  **缓存策略 (可选)：**
        *   **缓存有效期：**
            *   图标：⏳ (沙漏)
            *   名称：“缓存有效期”
            *   当前状态/控件：右侧显示当前设置 (如“7天”)，点击后弹出选择器。
        *   **最大缓存空间：**
            *   图标：💾 (磁盘)
            *   名称：“最大缓存空间”
            *   当前状态/控件：右侧显示当前设置 (如“100MB”)，点击后弹出选择器或允许输入。
*   **交互流程 (基本不变，确认和选择方式可能调整)。**
*   **人性化与便捷性 (不变)。**

#### 4.4.4. 最旧同步时间管理 (Oldest Sync Time Management)

*   **所属卡片：** “同步设置” 卡片 (与同步频率等放在一起)
*   **卡片内UI项：**
    *   图标：🗓️ (日历)
    *   名称：“历史数据范围”
    *   辅助说明：“设定同步数据的最早时间点”
    *   当前状态/控件：右侧显示当前设定 (例如 “最近30天”)，点击后弹出选择器 (选项：“最近7天”、“最近30天”、“最近90天”、“全部历史”)。
*   **交互流程 (基本不变)。**
*   **人性化与便捷性 (不变)。**

#### 4.4.5. 外观主题选择 (Appearance Theme Selection)

*   **所属卡片：** “个性化” 卡片
*   **卡片内UI项：**
    *   图标：🎨 (调色板)
    *   名称：“外观主题”
    *   辅助说明：“选择应用的显示主题”
    *   当前状态/控件：右侧显示当前主题 (例如 “浅色模式”)，点击后弹出选择器 (选项：“浅色模式”、“深色模式”、“跟随系统”)。
*   **交互流程 (基本不变)。**
*   **人性化与便捷性 (不变)。**

#### 4.4.6. 通知偏好设置 (Notification Preferences)

*   **所属卡片：** “个性化” 卡片 (与主题选择放在一起)
*   **卡片内UI项：**
    *   图标：🔔 (铃铛)
    *   名称：“通知设置”
    *   辅助说明：“管理应用通知的接收方式”
    *   控件：右侧显示一个总开关控件 (Toggle) “接收应用通知”。如果需要更细致的设置，则显示向右箭头 `>` 进入下一页。
*   **通知设置页面UI (如果需要下一页，则页面内也是卡片风格)：**
    *   卡片：“通知类型”，内部包含“同步完成通知”开关、“新功能提醒”开关等。
    *   卡片：“通知方式”，内部包含“声音”开关、“震动”开关等。
*   **交互流程 (基本不变)。**
*   **人性化与便捷性 (不变)。**

---
*注意：原“4.3.7. 安全的数据导出/导入选项”已根据用户反馈移除。*
---

## 5. 无障碍设计考虑 (不变)

*   **字体大小：** 尽可能响应系统字体大小设置，或在应用内提供字体大小调整选项。
*   **颜色对比度：** 确保文本和背景、控件和背景之间有足够的颜色对比度，符合 WCAG AA 级标准。特别是在浅色和深色主题下都要检查。
*   **可点击区域：** 确保所有可点击元素（按钮、列表项、开关等）有足够大的触摸目标区域。
*   **键盘导航 (如果适用PC端)：** 确保所有交互元素都可以通过键盘访问和操作。
*   **屏幕阅读器支持：** 为图标、按钮等非文本元素提供合适的 `aria-label` 或替代文本。

## 6. 总结与后续步骤

以上为根据用户最新反馈修订的底部导航栏和设置界面的UI/UX设计方案。此方案旨在提供一个用户友好、操作便捷且功能全面的界面，并采纳了卡片式设计风格。

下一步将是再次与用户确认此修订后的设计方案，并根据反馈进行调整。